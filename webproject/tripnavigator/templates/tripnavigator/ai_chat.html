{% extends "tripnavigator/layout.html" %}
{% load static %}

{% block title %}Ask AI - Chat{% endblock %}

{% block css %}
  <link rel="stylesheet" href="{% static 'tripnavigator/css/ai_chat.css' %}">
{% endblock %}

{% block content %}
<div class="container my-4">
  <h2 class="mb-4 text-center">Ask AI</h2>
  
  <!-- Chat Wrapper -->
  <div id="chatWrapper" class="mx-auto">
    <!-- Chat Header -->
    <div id="chatHeader" class="d-flex align-items-center justify-content-between flex-wrap">
      <h5 class="mb-0">Chat with TripNavigator AI</h5>
      <small>Powered by OpenAI</small>
    </div>
    
    <!-- Chat Container -->
    <div id="chatContainer">
      <!-- Dynamiske beskeder indsættes her -->
    </div>
  </div>
  
  <!-- Formular til brugerinput -->
  <form id="chatForm" class="mt-3">
    <div class="input-group">
      <input type="text" id="userMessage" class="form-control" placeholder="Type your question here..." autocomplete="off" required>
      <button class="btn btn-primary" type="submit">
        <i class="bi bi-send-fill"></i>
      </button>
    </div>
  </form>
  
  <!-- Foruddefinerede spørgsmål -->
  <div class="predefined-buttons d-flex flex-wrap justify-content-center gap-2 mt-3">
    <button class="btn btn-outline-secondary" type="button" onclick="setPredefined('How can I save money on my travel?')">
      How can I save money on my travel?
    </button>
    <button class="btn btn-outline-secondary" type="button" onclick="setPredefined('What should I pack for a tropical vacation?')">
      What should I pack for a tropical vacation?
    </button>
    <button class="btn btn-outline-secondary" type="button" onclick="setPredefined('What are the best attractions in Tokyo?')">
      What are the best attractions in Tokyo?
    </button>
  </div>
</div>
{% endblock %}

{% block script %}
  <!-- Inkluder jQuery til AJAX -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  
  <!-- Inkluder Bootstrap Icons (hvis ikke allerede i layout) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
  
  <!-- Ekstern JavaScript-fil -->
  <script src="{% static 'tripnavigator/js/ai_chat.js' %}"></script>
{% endblock %}
