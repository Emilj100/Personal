{% extends "tripnavigator/dashboard/dashboard-layout.html" %}
{% load static %}

{% block title %}AI Suggestions for Your Trip{% endblock %}

{% block content %}
<div class="container my-4">
  <!-- Header section with introduction -->
  <div class="text-center mb-5">
    <h2 class="fw-bold">Personalized Recommendations for {{ trip.destination }}</h2>
    <p class="text-muted">
      Based on your trip details, these suggestions are tailored for you. Click "Generate Suggestions" to see recommended activities, and then click "Add to Plan" to include an activity in your itinerary.
    </p>
    <button id="generateBtn" class="btn btn-primary">Generate Suggestions</button>
  </div>
  
  <!-- Area for inline messages -->
  <div id="messageArea" class="mb-3"></div>
  
  <!-- Container for dynamically generated suggestion cards -->
  <div class="row g-4" id="suggestionsContainer">
    <!-- Dynamic content injected here -->
  </div>
</div>
{% endblock %}

{% block script %}
  <!-- Set URLs for generating suggestions and adding to plan -->
  <script>
    window.generateSuggestionsUrl = "{% url 'generate_suggestions' trip.id %}";
    window.addToPlanUrl = "{% url 'add_suggestion_to_plan' trip.id %}";
  </script>
  <script src="{% static 'tripnavigator/js/ai-suggestions.js' %}"></script>
{% endblock %}
